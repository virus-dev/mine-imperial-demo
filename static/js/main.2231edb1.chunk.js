(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/burgerMenu.86595150.svg"},31:function(e,t,a){e.exports=a.p+"static/media/mainPage.ce792445.jpg"},32:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(3),i=a(11),s=a(29),u=a.n(s),h=a(5),m=a(4);var d=function(e){var t,a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],s=c[1],d=Object(m.d)((function(e){return e.user.user})),p=r.a.useRef(),x=function(){s(!l)},b=function(e){e.path.includes(p.current)||s(!1)};return Object(n.useEffect)((function(){document.body.addEventListener("click",b)}),[]),"user"===d?t="\u0413\u043e\u0441\u0442\u044c":"admin"===d&&(t="\u0410\u0434\u043c\u0438\u043d"),r.a.createElement("header",null,r.a.createElement("div",{className:"nothingLine"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("div",{className:"header__logo header__item"},r.a.createElement(h.b,{to:"/"},"\u041b\u043e\u0433\u043e")),r.a.createElement("div",{className:"header__infoPage header__item"},r.a.createElement(o.a,{path:"/",exact:!0},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),r.a.createElement(o.a,{path:"/neather",exact:!0},"\u041a\u0430\u0440\u0442\u0430 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043c\u0438\u0440\u0430"),r.a.createElement(o.a,{path:"/moderation",exact:!0},"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(o.a,{path:"/settings",exact:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(o.a,{path:"/map-moderation",exact:!0},"\u041a\u0430\u0440\u0442\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438")),r.a.createElement("div",{className:"header__user header__item"},t),r.a.createElement("div",{ref:p,className:"header__burger header__item"},r.a.createElement("img",{onClick:function(){s(!l)},src:u.a,alt:"\u0411\u0443\u0440\u0433\u0435\u0440 \u043c\u0435\u043d\u044e"}),l&&r.a.createElement("div",{className:"header__burgerMenu"},r.a.createElement(h.b,{to:"neather",onClick:function(){return x()},className:"header__burgerMenu__item"},"\u041a\u0430\u0440\u0442\u0430 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043c\u0438\u0440\u0430"),r.a.createElement(h.b,{to:"settings",onClick:function(){return x()},className:"header__burgerMenu__item"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),"admin"===d?r.a.createElement(h.b,{to:"moderation",onClick:function(){return x()},className:"header__burgerMenu__item"},"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f"):"")))))},p=a(19),x=a(20),b=a(22),y=a(21),v=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).startLooking=function(e){n.mouseDown=!0,n.startDragOffset.x=e.clientX-n.translatePos.x,n.startDragOffset.y=e.clientY-n.translatePos.y},n.looking=function(e){n.mouseDown&&(n.translatePos.x=e.clientX-n.startDragOffset.x,n.translatePos.y=e.clientY-n.startDragOffset.y,n.draw(n.scale,n.translatePos)),void 0!==n.markers&&(n.mouseOnMarker=!1,n.markers.map((function(t,a){var r=t.markerHitbox,c=t.markerInfo;e.pageX>r.xStart&&e.pageX<r.xFinish&&e.pageY>r.yStart&&e.pageY<r.yFinish&&(n.NeatherMap.current.style="cursor: pointer;",n.mouseOnMarker=!0,n.markerForModal=[r,c],n.setState({modalNeatherMapIsOpen:!0})),n.mouseOnMarker||(n.NeatherMap.current.style="cursor: default;",n.setState({modalNeatherMapIsOpen:!1}))}))),n.pointModal()},n.finishLooking=function(){n.mouseDown=!1},n.wheel=function(e){e.deltaY>0?n.scale*=n.scaleMultiplier:n.scale/=n.scaleMultiplier,n.scale>2&&(n.scale=2),n.scale<.5&&(n.scale=.5),n.pointModal(),n.draw(n.scale,n.translatePos),n.setState({modalNeatherMapIsOpen:!1})},n.pointModal=function(){n.markers=[],n.points.map((function(e){var t=e.point;n.markers.push({markerHitbox:{xStart:n.translatePos.x+t.x*n.scale-n.pointRadius,xFinish:n.translatePos.x+t.x*n.scale+n.pointRadius,yStart:n.translatePos.y+t.y*n.scale-n.pointRadius,yFinish:n.translatePos.y+t.y*n.scale+n.pointRadius},markerInfo:{point:t}})})),n.firstRender&&(n.setState({isRender:!n.state.isRender}),n.firstRender=!1)},n.renderMainTunnels=function(){n.maxCordMainTunnel=2e3,n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(0,n.maxCordMainTunnel),n.ctx.strokeStyle="red",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(0,-n.maxCordMainTunnel),n.ctx.strokeStyle="blue",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(n.maxCordMainTunnel,0),n.ctx.strokeStyle="yellow",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(-n.maxCordMainTunnel,0),n.ctx.strokeStyle="green",n.ctx.lineWidth="10",n.ctx.stroke()},n.draw=function(e,t){n.ctx.clearRect(0,0,n.NeatherMap.current.width,n.NeatherMap.current.height),n.ctx.save(),n.ctx.translate(t.x,t.y),n.ctx.scale(e,e),n.renderMainTunnels(),n.points=[],n.props.branchs.map((function(e){if(n.ctx.beginPath(),e.tunnel&&"two"!==e.branch){switch("red"===e.branch||"blue"===e.branch?(n.ctx.moveTo(0,e.y),n.ctx.lineTo(e.x,e.y)):"green"!==e.branch&&"yellow"!==e.branch||(n.ctx.moveTo(e.x,0),n.ctx.lineTo(e.x,e.y)),e.branch){case"blue":n.ctx.strokeStyle="blue";break;case"yellow":n.ctx.strokeStyle="yellow";break;case"red":n.ctx.strokeStyle="red";break;case"green":n.ctx.strokeStyle="green"}n.ctx.lineWidth="8",n.ctx.stroke()}"two"===e.branch&&(n.ctx.beginPath(),n.ctx.moveTo(0,e.y),n.ctx.lineTo(e.x,e.y),e.y<0?n.ctx.strokeStyle="blue":n.ctx.strokeStyle="red",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(e.x,0),n.ctx.lineTo(e.x,e.y),e.x<0?n.ctx.strokeStyle="green":n.ctx.strokeStyle="yellow",n.ctx.lineWidth="10",n.ctx.stroke()),"portal"!==e.type&&"end"!==e.type||(n.ctx.beginPath(),n.points.push({point:e}),n.ctx.arc(e.x,e.y,n.pointRadius,0,6.28),n.ctx.lineWidth="1",n.ctx.fillStyle="purple",n.ctx.strokeStyle="black",n.ctx.stroke(),n.ctx.fill()),"hab"===e.type&&(n.ctx.beginPath(),n.ctx.arc(e.x,-e.y,25,0,6.28),n.ctx.lineWidth="1",n.ctx.fillStyle="white",n.ctx.strokeStyle="black",n.ctx.stroke(),n.ctx.fill())})),n.ctx.restore()},n.NeatherMap=r.a.createRef(),n.state={modalNeatherMapIsOpen:!1,isRender:!1},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.ctx=this.NeatherMap.current.getContext("2d"),this.onMarkerView={x:0,z:0},this.mouseDown=!1,this.startDragOffset={},this.pointRadius=5,this.scale=1,this.scaleMultiplier=.9,this.translatePos={x:this.NeatherMap.current.width/2-this.onMarkerView.x,y:this.NeatherMap.current.height/2-this.onMarkerView.z},this.startTranslatePos={x:this.NeatherMap.current.width/2,y:this.NeatherMap.current.height/2},this.firstRender=!0,this.draw(this.scale,this.translatePos),this.pointModal()}},{key:"componentDidUpdate",value:function(){this.draw(this.scale,this.translatePos)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{position:"relative",overflow:"hidden"}},r.a.createElement("canvas",{height:document.body.clientHeight,width:document.body.clientWidth,ref:this.NeatherMap,onMouseDown:this.startLooking,onMouseMove:this.looking,onMouseUp:this.finishLooking,onMouseOver:this.finishLooking,onWheel:this.wheel,onClick:this.pointModal}),void 0===this.markers?"":this.markers.map((function(t,a){return r.a.createElement(_,{props:t,scale:e.scale,key:a})})),this.state.modalNeatherMapIsOpen&&r.a.createElement(f,{marker:this.markerForModal}),r.a.createElement(O,null))}}]),a}(r.a.Component),g=Object(m.b)((function(e){return{branchs:e.branchs}}),(function(e){return{}}))(v),f=function(e){var t=e.marker[0],a=e.marker[1].point;return r.a.createElement("div",{className:"modalNeatherMap",style:{left:t.xFinish+5,top:t.yStart}},r.a.createElement("h2",{className:"modalNeatherMap__title"},a.name),r.a.createElement("div",{className:"modalNeatherMap__description"},a.description),r.a.createElement("div",{className:"modalNeatherMap__cords"},r.a.createElement("div",null,"X: ",r.a.createElement("span",null,a.x)),r.a.createElement("div",null,"Z: ",r.a.createElement("span",null,a.y))))};var _=function(e){var t=e.props,a=e.scale;return r.a.createElement("div",{className:"nameNeatherMap",style:{left:t.markerHitbox.xFinish+7,top:t.markerHitbox.yStart,fontSize:14*a}},t.markerInfo.point.name)},N=function(e){return{type:"DELITE_ONE_BRANCH_ON_MODERATION",payload:e}},E=function(e){return{type:"ADD_BRANCH_HAS_TWO_TUNNEL_DISABLED",payload:e}},k=function(e){return{type:"ADD_BRANCH_HAS_TWO_TUNNEL",payload:e}},T=function(e){return{type:"ADD_BRANCH_COLOR",payload:e}};var O=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.addBranchForm})),a=r.a.useState(!1),n=Object(i.a)(a,2),c=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return l(!0)},className:"btn btn-addBranch"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440"),c&&r.a.createElement(M,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440",body:r.a.createElement(w,null),btnConfirm:r.a.createElement("button",{className:"btn btn-confirm",onClick:function(){if(""!==t.title&&""!==t.description&&"0"!==t.x&&"0"!==t.y&&(!0===t.hasTunnel&&0!==t.branchColor.length||!1===t.hasTunnel&&0===t.branchColor.length)){var a=t.branchColor.length>1?"two":t.branchColor[0];e({type:"BRANCHS_ON_MODEDERATION",payload:{name:t.title,description:t.description,branch:a,type:"portal",tunnel:t.hasTunnel,x:+t.x,y:+t.y}}),e({type:"ADD_BRANCH_EMPTY"}),l(!1)}}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),btnClose:r.a.createElement("button",{onClick:function(){return l(!1)},className:"btn btn-close"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")}))};var M=function(e){return r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-header"},e.title),r.a.createElement("div",{className:"modal-content"},e.body),r.a.createElement("div",{className:"modal-footer"},e.btnClose,e.btnConfirm)))};var w=function(){var e,t=Object(m.c)(),a=Object(m.d)((function(e){return e.addBranchForm})),n=r.a.useState([{text:"\u0416\u0435\u043b\u0442\u0430\u044f",type:"yellow"},{text:"\u0421\u0438\u043d\u044f\u044f",type:"blue"}]),c=Object(i.a)(n,2),l=c[0],o=c[1],s=function(e,a){var n=["+","-","0","1","2","3","4","5","6","7","8","9"];switch(a){case"TITLE":var r=["?","%","$",";"];e:for(var c=0;c<r.length;c++)if(e.target.value.includes(r[c])){e.target.value=e.target.value.replace(/[?%$;]/,"");break e}t({type:"ADD_BRANCH_TITLE",payload:e.target.value});break;case"DESCRIPTION":e.target.value.includes("%")&&(e.target.value=e.target.value.replace("%","")),t(function(e){return{type:"ADD_BRANCH_DESCRIPTION",payload:e}}(e.target.value));break;case"X_CORD":e:for(var i=0;i<n.length;i++)if(!e.target.value.includes(n[i])){""===e.target.value&&(e.target.value="0"),void 0!==e.target.value[1]&&"0"===e.target.value[0]&&"0"!==e.target.value[1]&&(e.target.value=e.target.value[1]),"0"===e.target.value[0]&&"0"===e.target.value[1]&&(e.target.value="0"),"-"===e.target.value[0]&&"0"===e.target.value[1]&&(e.target.value="-"),e.target.value=e.target.value[0]+e.target.value.slice(1).replace(/\D+/g,""),e.target.value=e.target.value.replace(/(?!-)[^0-9]/g,""),e.target.value>2e3&&(e.target.value=2e3),e.target.value<-2e3&&(e.target.value=-2e3);break e}e.target.value>=0?o([{text:"\u0416\u0435\u043b\u0442\u0430\u044f",type:"yellow"},l[1]]):o([{text:"\u0417\u0435\u043b\u0435\u043d\u0430\u044f",type:"green"},l[1]]),t(function(e){return{type:"ADD_BRANCH_X",payload:e}}(e.target.value));break;case"Y_CORD":e:for(var s=0;s<n.length;s++)if(!e.target.value.includes(n[s])){""===e.target.value&&(e.target.value="0"),void 0!==e.target.value[1]&&"0"===e.target.value[0]&&"0"!==e.target.value[1]&&(e.target.value=e.target.value[1]),"0"===e.target.value[0]&&"0"===e.target.value[1]&&(e.target.value="0"),"-"===e.target.value[0]&&"0"===e.target.value[1]&&(e.target.value="-"),e.target.value=e.target.value[0]+e.target.value.slice(1).replace(/\D+/g,""),e.target.value=e.target.value.replace(/(?!-)[^0-9]/g,""),e.target.value>2e3&&(e.target.value=2e3),e.target.value<-2e3&&(e.target.value=-2e3);break e}e.target.value>=0?o([l[0],{text:"\u041a\u0440\u0430\u0441\u043d\u0430\u044f",type:"red"}]):o([l[0],{text:"\u0421\u0438\u043d\u044f\u044f",type:"blue"}]),t(function(e){return{type:"ADD_BRANCH_Y",payload:e}}(e.target.value))}},u=function(e){"HAS_TUNNEL"===e?(t({type:"ADD_BRANCH_HAS_TUNNEL",payload:!a.hasTunnel}),!1===!a.hasTunnel?(t(k(!1)),t(E(!0))):t(E(!1))):"HAS_TWO_TUNNEL"===e&&(a.hasTwoTunnel?t(T([])):t(T([l[0].type,l[1].type])),t(k(!a.hasTwoTunnel)))};return e=l.map((function(e,n){return r.a.createElement("div",{className:"select__item",key:"".concat(e.text).concat(n)},r.a.createElement("span",{className:a.branchColor.includes(e.type)?e.type:"",onClick:function(){return t(T([e.type]))}},e.text))})),r.a.createElement("div",{className:"AddBranchForm"},r.a.createElement("div",{className:"formGroup column"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","input"),className:"label-text"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{id:"".concat("AddBranchForm__","input"),type:"text",maxlength:"25",className:"input-text",value:a.title,onChange:function(e){s(e,"TITLE")}})),r.a.createElement("div",{className:"formGroup column"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","description"),className:"label-text"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.a.createElement("textarea",{id:"".concat("AddBranchForm__","description"),maxlength:"250",type:"text",className:"textarea",value:a.description,onChange:function(e){s(e,"DESCRIPTION")}})),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"formGroup line"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","x"),className:"label-text"},"X:"),r.a.createElement("input",{id:"".concat("AddBranchForm__","x"),type:"text",className:"input-text",value:a.x,onChange:function(e){s(e,"X_CORD")}})),r.a.createElement("div",{className:"formGroup line"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","z"),className:"label-text"},"Z:"),r.a.createElement("input",{id:"".concat("AddBranchForm__","z"),type:"text",className:"input-text",value:a.y,onChange:function(e){s(e,"Y_CORD")}}))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"formGroup line"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","hasTunnel"),className:"label-checkbox"},"\u0415\u0441\u0442\u044c \u0442\u0443\u043d\u043d\u0435\u043b\u044c?"),r.a.createElement("input",{id:"".concat("AddBranchForm__","hasTunnel"),type:"checkbox",className:"input-checkbox",checked:a.hasTunnel,onChange:function(){u("HAS_TUNNEL")}})),r.a.createElement("div",{className:"formGroup line"},r.a.createElement("label",{htmlFor:"".concat("AddBranchForm__","hasTwoTunnel"),className:"label-checkbox"},"\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u043e 2 \u0412\u0435\u0442\u043a\u0438"),r.a.createElement("input",{id:"".concat("AddBranchForm__","hasTwoTunnel"),type:"checkbox",className:"input-checkbox",disabled:a.hasTwoTunnelDisabled,checked:a.hasTwoTunnel,onChange:function(){u("HAS_TWO_TUNNEL")}}))),r.a.createElement("div",{className:"formGroup column"},r.a.createElement("label",{className:"label-checkbox"},"\u0412\u0435\u0442\u043a\u0430"),r.a.createElement("div",{className:!0===a.hasTunnel?"select__castom":"select__castom select__castom--disabled"},e)))},S=a(10);var D=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e}));return r.a.createElement("div",{className:"moderationPage"},r.a.createElement("div",{className:"container page"},r.a.createElement("h2",null,"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432"),t.branchsOnModeration.map((function(a,n){return r.a.createElement("div",{key:"".concat(a.description)+n,className:"moderationBranch__box"},r.a.createElement("div",{className:"moderationBranch__item"},r.a.createElement("div",{className:"moderationBranch__name"},a.name),r.a.createElement("div",{className:"moderationBranch__description"},a.description),r.a.createElement("div",{className:"moderationBranch__tunnel"},console.log(a.tunnel),"\u0422\u0443\u043d\u043d\u0435\u043b\u044c: ",a.tunnel?"\u0415\u0441\u0442\u044c":"\u041d\u0435\u0442\u0443"),r.a.createElement("div",{className:"moderationBranch__x"},"X: ",a.x),r.a.createElement("div",{className:"moderationBranch__z"},"Z: ",a.y),r.a.createElement(h.b,{className:"btn moderationBranch__btn",to:"map-moderation",onClick:function(){return function(a){var n=[a].concat(Object(S.a)(t.branchs));e({type:"BRANCHS_ON_NEATHER_MAP_MODERATION",payload:n})}(a)}},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")))}))))};var C=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(m.d)((function(e){return e.user.user})),l=Object(m.c)();"user"===c&&!0===a?n(!1):"admin"===c&&!1===a&&n(!0);var o="user"===c?"admin":"user";return r.a.createElement("div",{className:"settingsPage"},r.a.createElement("div",{className:"container page"},r.a.createElement("h2",null,"\u0410\u0434\u043c\u0438\u043d"),r.a.createElement("div",{className:"formGroup line"},r.a.createElement("label",{htmlFor:"settings",className:"label-text"},"\u0411\u044b\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c"),r.a.createElement("input",{id:"settings",type:"checkbox",className:"input-checkbox",checked:a,onChange:function(){return l({type:"SET_USER",payload:o})}})),r.a.createElement("p",null,"\u0421\u0430\u0439\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 localStorage")))},A=function(e){return{type:"BRANCHS",payload:e}},R=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).startLooking=function(e){n.mouseDown=!0,n.startDragOffset.x=e.clientX-n.translatePos.x,n.startDragOffset.y=e.clientY-n.translatePos.y},n.looking=function(e){n.mouseDown&&(n.translatePos.x=e.clientX-n.startDragOffset.x,n.translatePos.y=e.clientY-n.startDragOffset.y,n.draw(n.scale,n.translatePos)),void 0!==n.markers&&(n.mouseOnMarker=!1,n.markers.map((function(t,a){var r=t.markerHitbox,c=t.markerInfo;e.pageX>r.xStart&&e.pageX<r.xFinish&&e.pageY>r.yStart&&e.pageY<r.yFinish&&(n.NeatherMap.current.style="cursor: pointer;",n.mouseOnMarker=!0,n.markerForModal=[r,c],n.setState({modalNeatherMapIsOpen:!0})),n.mouseOnMarker||(n.NeatherMap.current.style="cursor: default;",n.setState({modalNeatherMapIsOpen:!1}))}))),n.pointModal()},n.finishLooking=function(){n.mouseDown=!1},n.buttonFunction=function(e){n.newBranchsModeration=Object(S.a)(n.props.branchsModeration);for(var t=0;t<n.newBranchsModeration.length;t++)n.newBranchsModeration[t]===n.props.branchs[0]&&n.newBranchsModeration.splice(t,1);n.props.dispatch(N(n.newBranchsModeration)),"add"===e&&n.props.dispatch(A(n.props.branchs[0]))},n.wheel=function(e){e.deltaY>0?n.scale*=n.scaleMultiplier:n.scale/=n.scaleMultiplier,n.scale>2&&(n.scale=2),n.scale<.5&&(n.scale=.5),n.pointModal(),n.draw(n.scale,n.translatePos),n.setState({modalNeatherMapIsOpen:!1})},n.pointModal=function(){n.markers=[],n.points.map((function(e){var t=e.point;n.markers.push({markerHitbox:{xStart:n.translatePos.x+t.x*n.scale-n.pointRadius,xFinish:n.translatePos.x+t.x*n.scale+n.pointRadius,yStart:n.translatePos.y+t.y*n.scale-n.pointRadius,yFinish:n.translatePos.y+t.y*n.scale+n.pointRadius},markerInfo:{point:t}})})),n.firstRender&&(n.setState({isRender:!n.state.isRender}),n.firstRender=!1)},n.renderMainTunnels=function(){n.maxCordMainTunnel=2e3,n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(0,n.maxCordMainTunnel),n.ctx.strokeStyle="red",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(0,-n.maxCordMainTunnel),n.ctx.strokeStyle="blue",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(n.maxCordMainTunnel,0),n.ctx.strokeStyle="yellow",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(0,0),n.ctx.lineTo(-n.maxCordMainTunnel,0),n.ctx.strokeStyle="green",n.ctx.lineWidth="10",n.ctx.stroke()},n.draw=function(e,t){n.ctx.clearRect(0,0,n.NeatherMap.current.width,n.NeatherMap.current.height),n.ctx.save(),n.ctx.translate(t.x,t.y),n.ctx.scale(e,e),n.renderMainTunnels(),n.points=[],n.props.branchs.map((function(e){if(n.ctx.beginPath(),e.tunnel&&"two"!==e.branch){switch("red"===e.branch||"blue"===e.branch?(n.ctx.moveTo(0,e.y),n.ctx.lineTo(e.x,e.y)):"green"!==e.branch&&"yellow"!==e.branch||(n.ctx.moveTo(e.x,0),n.ctx.lineTo(e.x,e.y)),e.branch){case"blue":n.ctx.strokeStyle="blue";break;case"yellow":n.ctx.strokeStyle="yellow";break;case"red":n.ctx.strokeStyle="red";break;case"green":n.ctx.strokeStyle="green"}n.ctx.lineWidth="8",n.ctx.stroke()}"two"===e.branch&&(n.ctx.beginPath(),n.ctx.moveTo(0,e.y),n.ctx.lineTo(e.x,e.y),e.y<0?n.ctx.strokeStyle="blue":n.ctx.strokeStyle="red",n.ctx.lineWidth="10",n.ctx.stroke(),n.ctx.beginPath(),n.ctx.moveTo(e.x,0),n.ctx.lineTo(e.x,e.y),e.x<0?n.ctx.strokeStyle="green":n.ctx.strokeStyle="yellow",n.ctx.lineWidth="10",n.ctx.stroke()),"portal"!==e.type&&"end"!==e.type||(n.ctx.beginPath(),n.points.push({point:e}),n.ctx.arc(e.x,e.y,n.pointRadius,0,6.28),n.ctx.lineWidth="1",n.ctx.fillStyle="purple",n.ctx.strokeStyle="black",n.ctx.stroke(),n.ctx.fill()),"hab"===e.type&&(n.ctx.beginPath(),n.ctx.arc(e.x,-e.y,25,0,6.28),n.ctx.lineWidth="1",n.ctx.fillStyle="white",n.ctx.strokeStyle="black",n.ctx.stroke(),n.ctx.fill())})),n.ctx.restore()},n.NeatherMap=r.a.createRef(),n.state={modalNeatherMapIsOpen:!1,isRender:!1},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.ctx=this.NeatherMap.current.getContext("2d"),0!==this.props.branchs.length?this.onMarkerView={x:this.props.branchs[0].x,z:this.props.branchs[0].y}:this.onMarkerView={x:0,z:0},this.mouseDown=!1,this.startDragOffset={},this.pointRadius=5,this.scale=1,this.scaleMultiplier=.9,this.translatePos={x:this.NeatherMap.current.width/2-this.onMarkerView.x,y:this.NeatherMap.current.height/2-this.onMarkerView.z},this.startTranslatePos={x:this.NeatherMap.current.width/2,y:this.NeatherMap.current.height/2},this.firstRender=!0,this.draw(this.scale,this.translatePos),this.pointModal()}},{key:"componentDidUpdate",value:function(){this.draw(this.scale,this.translatePos)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{position:"relative",overflow:"hidden"}},r.a.createElement("canvas",{height:document.body.clientHeight,width:document.body.clientWidth,ref:this.NeatherMap,onMouseDown:this.startLooking,onMouseMove:this.looking,onMouseUp:this.finishLooking,onMouseOver:this.finishLooking,onWheel:this.wheel,onClick:this.pointModal}),void 0===this.markers?"":this.markers.map((function(t,a){return r.a.createElement(_,{props:t,scale:e.scale,key:a})})),this.state.modalNeatherMapIsOpen&&r.a.createElement(f,{marker:this.markerForModal}),r.a.createElement("div",{className:"mapModeration__buttons"},r.a.createElement(h.b,{to:"moderation",className:"btn btn-confirm shadow",onClick:function(){return e.buttonFunction("add")}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"),r.a.createElement(h.b,{to:"moderation",className:"btn btn-close shadow",onClick:function(){return e.buttonFunction("delite")}},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c")))}}]),a}(r.a.Component),B=Object(m.b)((function(e){return{branchs:e.branchsOnNeaterMapModeration,branchsModeration:e.branchsOnModeration}}),(function(e){return{addBranch:function(t){return e(A(t))},deliteOneBranchOnModeration:function(t){return e(N(t))},dispatch:e}}))(R),P=a(31),j=a.n(P);var H=function(){return r.a.createElement("div",{className:"mainPage"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"mainPage__img"},r.a.createElement("div",{className:"mainPage__img__text"},r.a.createElement("h2",null,"Mine-Imperial"),r.a.createElement("h3",null,"\u0421\u0430\u0439\u0442, \u043f\u043e\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 Minecraft")),r.a.createElement("img",{src:j.a,alt:""})),r.a.createElement("div",{className:"page__content"},r.a.createElement("h2",null,"\u0427\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435?"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u0440\u0442\u0443 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043c\u0438\u0440\u0430, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0442\u0440\u0438 \u043b\u0438\u043d\u0438\u0438 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u043f\u0440\u0430\u0432\u043e\u043c \u0443\u0433\u043b\u0443, \u0438",r.a.createElement("br",null),' \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 "\u041a\u0430\u0440\u0442\u0430 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043c\u0438\u0440\u0430".'),r.a.createElement("li",null,'\u0422\u0430\u043c \u0436\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440, \u043d\u0430\u0436\u0430\u0432 \u0432\u043d\u0438\u0437\u0443 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440", \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435.'),r.a.createElement("li",null,"\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u0430\u0448 \u043c\u0430\u0440\u043a\u0435\u0440 \u0438\u0434\u0435\u0442 \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e, \u0433\u0434\u0435 \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440."),r.a.createElement("li",null,'\u0421\u0442\u0430\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438".'),r.a.createElement("li",null,"\u041a\u043e\u0433\u0434\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440, \u0443 \u043d\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0435\u0433\u043e \u043e\u0434\u043e\u0431\u0440\u0438\u0442\u044c \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c.")))))};var I=function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(o.a,{component:H,path:"/",exact:!0}),r.a.createElement(o.a,{component:g,path:"/neather",exact:!0}),r.a.createElement(o.a,{component:C,path:"/settings",exact:!0}),r.a.createElement(o.a,{component:D,path:"/moderation",exact:!0}),r.a.createElement(o.a,{component:B,path:"/map-moderation",exact:!0}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(13),L=[{name:"\u0420\u0430\u0439\u0441\u043a",description:"\u0421\u0442\u043e\u043b\u0438\u0446\u0430 \u0418\u043c\u043f\u0435\u0440\u0438\u0438",branch:"red",type:"portal",tunnel:!0,x:21,y:194},{name:"\u0424\u0435\u0440\u043c\u044b",description:"\u0422\u0443\u0442 \u0444\u0435\u0440\u043c\u0430 \u043f\u043e\u0440\u043e\u0445\u0430, \u043e\u043f\u044b\u0442\u0430 \u0438 \u043a\u0430\u043a\u0442\u0443\u0441\u043e\u0432",branch:"red",type:"portal",tunnel:!0,x:-12,y:314},{name:"\u041a\u0440\u0435\u043f\u043e\u0441\u0442\u044c",description:"\u041a\u0440\u0435\u043f\u043e\u0441\u0442\u044c \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043c\u0438\u0440\u0430",branch:!1,type:"portal",tunnel:!0,x:100,y:350},{name:"\u041c\u0435\u0441\u0441\u0430",description:"\u0422\u0443\u0442 \u043c\u043d\u043e\u0433\u043e \u0442\u0435\u0440\u0440\u0430\u043a\u043e\u0442\u044b",branch:"red",type:"portal",tunnel:!0,x:15,y:525},{name:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043f\u043e\u0440\u0442\u0430\u043b \u0432 \u044d\u043d\u0434\u0435\u0440 \u043c\u0438\u0440",description:"\u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u0440\u043e\u0434\u0438\u043b \u0434\u0440\u0430\u043a\u043e\u043d\u0430, \u0442\u043e \u0441\u0430\u043c \u0435\u0433\u043e \u0438 \u0443\u0431\u0438\u0432\u0430\u0439",branch:"red",type:"portal",tunnel:!0,x:121,y:146},{name:"\u041f\u043b\u044f\u0436",description:"\u0417\u0430\u0431\u0440\u043e\u0448\u0435\u043d\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",branch:"yellow",type:"portal",tunnel:!0,x:175,y:62},{name:"\u0424\u0435\u0440\u043c\u0430 \u0433\u0432\u0430\u0440\u0434\u0438\u0430\u043d\u043e\u0432",description:"\u0422\u0443\u0442 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0444\u0430\u0440\u043c\u0438\u0442\u044c \u043c\u043e\u0440\u0441\u043a\u0438\u0435 \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u0438",branch:"green",type:"portal",tunnel:!0,x:-194,y:42},{name:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439 \u0431\u0438\u043e\u043c",description:"\u041c\u043d\u043e\u0433\u043e \u0431\u043e\u0440\u043e\u0432\u043e\u0432",branch:"green",type:"portal",tunnel:!0,x:-1e3,y:-200},{name:"\u0422\u0451\u043c\u043d\u044b\u0439 \u043b\u0435\u0441",description:"\u0422\u0451\u043c\u043d\u044b\u0439 \u043b\u0435\u0441, \u0440\u043e\u0432\u043d\u043e\u0435 \u0431\u043e\u043b\u043e\u0442\u043e",branch:"blue",type:"portal",tunnel:!0,x:-8,y:-126},{name:"\u0413\u0440\u0438\u0431\u043d\u043e\u0439 \u043e\u0441\u0442\u0440\u043e\u0432",description:"\u041c\u043e\u0436\u043d\u043e \u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0438\u0431\u043d\u044b\u0445 \u043a\u043e\u0440\u043e\u0432",branch:"blue",type:"portal",tunnel:!0,x:-473,y:-1062},{name:"\u0425\u0430\u0431",description:"\u0442\u0443\u0442",branch:"all",type:"hab",x:0,y:0}],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BRANCHS":return[].concat(Object(S.a)(e),[t.payload]);default:return e}},X=a(2),U={title:"",description:"",x:"0",y:"0",hasTunnel:!1,hasTwoTunnelDisabled:!0,hasTwoTunnel:!1,branchColor:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BRANCH_TITLE":return Object(X.a)(Object(X.a)({},e),{},{title:t.payload});case"ADD_BRANCH_DESCRIPTION":return Object(X.a)(Object(X.a)({},e),{},{description:t.payload});case"ADD_BRANCH_X":return Object(X.a)(Object(X.a)({},e),{},{x:t.payload,hasTwoTunnel:!1,branchColor:[]});case"ADD_BRANCH_Y":return Object(X.a)(Object(X.a)({},e),{},{y:t.payload,hasTwoTunnel:!1,branchColor:[]});case"ADD_BRANCH_HAS_TUNNEL":return Object(X.a)(Object(X.a)({},e),{},{hasTunnel:t.payload,branchColor:[]});case"ADD_BRANCH_HAS_TWO_TUNNEL_DISABLED":return Object(X.a)(Object(X.a)({},e),{},{hasTwoTunnelDisabled:t.payload,branchColor:[]});case"ADD_BRANCH_HAS_TWO_TUNNEL":return Object(X.a)(Object(X.a)({},e),{},{hasTwoTunnel:t.payload});case"ADD_BRANCH_COLOR":return Object(X.a)(Object(X.a)({},e),{},{branchColor:t.payload,hasTwoTunnel:!1});case"ADD_BRANCH_EMPTY":return Object(X.a)(Object(X.a)({},e),{},{title:"",description:"",x:"0",y:"0",hasTunnel:!1,hasTwoTunnelDisabled:!0,hasTwoTunnel:!1,branchColor:[]});default:return e}},z={user:"user"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(X.a)(Object(X.a)({},e),{},{user:t.payload});default:return e}},G=[{name:"\u0427\u0442\u043e \u0437\u0434\u0435\u0441\u044c?",description:"\u043b\u0430\u043b\u0430\u043b\u0430\u043b\u0430\u043b\u0430\u043b\u0430\u043b\u0430",branch:"two",type:"portal",tunnel:!0,x:1500,y:1500},{name:"\u041f\u043b\u043e\u0445\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440",description:"\u0410\u0425\u0425\u0410\u0425\u0410",branch:"two",type:"portal",tunnel:!0,x:345,y:1456},{name:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0431\u0440\u043e\u043d\u0438",description:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u044c \u0431\u0440\u043e\u043d\u044e",branch:"yellow",type:"portal",tunnel:!0,x:700,y:-500},{name:"\u0421\u0446\u0435\u043d\u0430 \u0434\u043b\u044f \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0439",description:"\u0412\u0445\u043e\u0434 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439, \u0441\u043a\u043e\u0440\u043e \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043c \u0442\u0443\u043d\u043d\u0435\u043b\u044c!",branch:!1,type:"portal",tunnel:!1,x:-300,y:200}],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BRANCHS_ON_MODEDERATION":return[].concat(Object(S.a)(e),[t.payload]);case"DELITE_ONE_BRANCH_ON_MODERATION":return Object(S.a)(t.payload);default:return e}},Z=[],$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BRANCHS_ON_NEATHER_MAP_MODERATION":return Object(S.a)(t.payload);default:return e}},q=Object(F.b)({branchs:W,addBranchForm:Y,user:V,branchsOnModeration:J,branchsOnNeaterMapModeration:$}),K=Object(F.c)(q,null===localStorage.getItem("redux-store")?{}:JSON.parse(localStorage.getItem("redux-store")),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());K.subscribe((function(){localStorage.setItem("redux-store",JSON.stringify(K.getState()))}));var Q=K;a(42);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,null,r.a.createElement(m.a,{store:Q},r.a.createElement(I,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.2231edb1.chunk.js.map